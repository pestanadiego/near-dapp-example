{"version":3,"sources":["utils/config.js","utils/near.js","components/Wallet.js","components/marketplace/AddProduct.js","components/marketplace/Product.js","components/utils/Loader.js","utils/marketplace.js","components/marketplace/Products.js","components/utils/Cover.js","assets/img/sandwich.jpg","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","utils","format","getAccountBalance","total","formatNearAmount","login","requestSignIn","logout","signOut","location","reload","Wallet","address","amount","symbol","destroy","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","AddProduct","save","useState","name","setName","image","setImage","description","setDescription","setLocation","price","setPrice","show","setShow","handleClose","Button","style","width","class","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","onChange","e","value","placeholder","height","Footer","disabled","Product","product","buy","sold","owner","Col","Card","Badge","bg","src","alt","objectFit","Text","Loader","role","GAS","buyProduct","productId","Products","products","setProducts","loading","setLoading","getProducts","useCallback","console","log","error","addProduct","data","uuid4","parseNearAmount","setProduct","then","resp","useEffect","Row","xs","sm","lg","map","_product","Cover","coverImg","background","minHeight","maxWidth","defaultProps","App","balance","setBalance","getBalance","Container","fluid","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.217c397b.chunk.js","sourcesContent":["const CONTRACT_NAME =\r\n  process.env.CONTRACT_NAME || \"firstcontract.diegopestana.testnet\";\r\n\r\nfunction environment(env) {\r\n  switch (env) {\r\n    case \"mainnet\":\r\n      return {\r\n        networkId: \"mainnet\",\r\n        nodeUrl: \"https://rpc.mainnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.near.org\",\r\n        helperUrl: \"https://helper.mainnet.near.org\",\r\n        explorerUrl: \"https://explorer.mainnet.near.org\",\r\n      };\r\n    case \"testnet\":\r\n      return {\r\n        networkId: \"testnet\",\r\n        nodeUrl: \"https://rpc.testnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.testnet.near.org\",\r\n        helperUrl: \"https://helper.testnet.near.org\",\r\n        explorerUrl: \"https://explorer.testnet.near.org\",\r\n      };\r\n    default:\r\n      throw Error(`Unknown environment '${env}'.`);\r\n  }\r\n}\r\n\r\nexport default environment;\r\n","import environment from \"./config\";\r\nimport {\r\n  connect,\r\n  Contract,\r\n  keyStores,\r\n  WalletConnection,\r\n  utils,\r\n} from \"near-api-js\";\r\n\r\nconst nearEnv = environment(\"testnet\");\r\n\r\nexport async function initializeContract() {\r\n  const near = await connect(\r\n    Object.assign(\r\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\r\n      nearEnv\r\n    )\r\n  );\r\n  window.walletConnection = new WalletConnection(near);\r\n  window.accountId = window.walletConnection.getAccountId();\r\n  window.contract = new Contract(\r\n    window.walletConnection.account(),\r\n    nearEnv.contractName,\r\n    {\r\n      viewMethods: [\"getProduct\", \"getProducts\"],\r\n      changeMethods: [\"buyProduct\", \"setProduct\"],\r\n    }\r\n  );\r\n}\r\n\r\nexport async function accountBalance() {\r\n  return utils.format.formatNearAmount(\r\n    (await window.walletConnection.account().getAccountBalance()).total,\r\n    2\r\n  );\r\n}\r\n\r\nexport async function getAccountId() {\r\n  return window.walletConnection.getAccountId();\r\n}\r\n\r\nexport function login() {\r\n  window.walletConnection.requestSignIn(nearEnv.contractName);\r\n}\r\n\r\nexport function logout() {\r\n  window.walletConnection.signOut(nearEnv.contractName);\r\n  window.location.reload();\r\n}\r\n","import React from \"react\";\r\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\r\n\r\nconst Wallet = ({ address, amount, symbol, destroy }) => {\r\n  if (address) {\r\n    return (\r\n      <>\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            variant='light'\r\n            align='end'\r\n            id='dropdown-basic'\r\n            className='d-flex align-items-center border rounded-pill py-1'\r\n          >\r\n            {amount ? (\r\n              <>\r\n                {amount} <span className='ms-1'> {symbol}</span>\r\n              </>\r\n            ) : (\r\n              <Spinner animation='border' size='sm' className='opacity-25' />\r\n            )}\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu className='shadow-lg border-0'>\r\n            <Dropdown.Item\r\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\r\n              target='_blank'\r\n            >\r\n              <Stack direction='horizontal' gap={2}>\r\n                <i className='bi bi-person-circle fs-4' />\r\n                <span className='font-monospace'>{address}</span>\r\n              </Stack>\r\n            </Dropdown.Item>\r\n\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item\r\n              as='button'\r\n              className='d-flex align-items-center'\r\n              onClick={() => {\r\n                destroy();\r\n              }}\r\n            >\r\n              <i className='bi bi-box-arrow-right me-2 fs-4' />\r\n              Disconnect\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Wallet;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\r\n\r\nconst AddProduct = ({ save }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const isFormFilled = () => name && image && description && location && price;\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleShow}\r\n        variant='dark'\r\n        className='rounded-pill px-0'\r\n        style={{ width: \"38px\" }}\r\n      >\r\n        <i class='bi bi-plus'></i>\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>New Product</Modal.Title>\r\n        </Modal.Header>\r\n        <Form>\r\n          <Modal.Body>\r\n            <FloatingLabel\r\n              controlId='inputName'\r\n              label='Product name'\r\n              className='mb-3'\r\n            >\r\n              <Form.Control\r\n                type='text'\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n                placeholder='Enter name of product'\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId='inputUrl'\r\n              label='Image URL'\r\n              className='mb-3'\r\n            >\r\n              <Form.Control\r\n                type='text'\r\n                placeholder='Image URL'\r\n                onChange={(e) => {\r\n                  setImage(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId='inputDescription'\r\n              label='Description'\r\n              className='mb-3'\r\n            >\r\n              <Form.Control\r\n                as='textarea'\r\n                placeholder='description'\r\n                style={{ height: \"80px\" }}\r\n                onChange={(e) => {\r\n                  setDescription(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId='inputLocation'\r\n              label='Location'\r\n              className='mb-3'\r\n            >\r\n              <Form.Control\r\n                type='text'\r\n                placeholder='Location'\r\n                onChange={(e) => {\r\n                  setLocation(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId='inputPrice'\r\n              label='Price'\r\n              className='mb-3'\r\n            >\r\n              <Form.Control\r\n                type='text'\r\n                placeholder='Price'\r\n                onChange={(e) => {\r\n                  setPrice(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n          </Modal.Body>\r\n        </Form>\r\n        <Modal.Footer>\r\n          <Button variant='outline-secondary' onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant='dark'\r\n            disabled={!isFormFilled()}\r\n            onClick={() => {\r\n              save({\r\n                name,\r\n                image,\r\n                description,\r\n                location,\r\n                price,\r\n              });\r\n              handleClose();\r\n            }}\r\n          >\r\n            Save product\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nAddProduct.propTypes = {\r\n  save: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddProduct;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { utils } from \"near-api-js\";\r\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\r\n\r\nconst Product = ({ product, buy }) => {\r\n  const { id, price, name, description, sold, location, image, owner } =\r\n    product;\r\n\r\n  const triggerBuy = () => {\r\n    buy(id, price);\r\n  };\r\n\r\n  return (\r\n    <Col key={id}>\r\n      <Card className=' h-100'>\r\n        <Card.Header>\r\n          <Stack direction='horizontal' gap={2}>\r\n            <span className='font-monospace text-secondary'>{owner}</span>\r\n            <Badge bg='secondary' className='ms-auto'>\r\n              {sold} Sold\r\n            </Badge>\r\n          </Stack>\r\n        </Card.Header>\r\n        <div className=' ratio ratio-4x3'>\r\n          <img src={image} alt={name} style={{ objectFit: \"cover\" }} />\r\n        </div>\r\n        <Card.Body className='d-flex  flex-column text-center'>\r\n          <Card.Title>{name}</Card.Title>\r\n          <Card.Text className='flex-grow-1 '>{description}</Card.Text>\r\n          <Card.Text className='text-secondary'>\r\n            <span>{location}</span>\r\n          </Card.Text>\r\n          <Button\r\n            variant='outline-dark'\r\n            onClick={triggerBuy}\r\n            className='w-100 py-3'\r\n          >\r\n            Buy for {utils.format.formatNearAmount(price)} NEAR\r\n          </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  );\r\n};\r\n\r\nProduct.propTypes = {\r\n  product: PropTypes.instanceOf(Object).isRequired,\r\n  buy: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst Loader = () => (\r\n  <div className='d-flex justify-content-center'>\r\n    <Spinner animation='border' role='status' className='opacity-25'>\r\n      <span className='visually-hidden'>Loading...</span>\r\n    </Spinner>\r\n  </div>\r\n);\r\nexport default Loader;\r\n","import { v4 as uuid4 } from \"uuid\";\r\nimport { utils } from \"near-api-js\";\r\n\r\nconst GAS = 100000000000000;\r\n\r\nexport function createProduct(product) {\r\n  product.id = uuid4();\r\n  product.price = utils.format.parseNearAmount(product.price + \"\");\r\n  return window.contract.setProduct({ product });\r\n}\r\n\r\nexport function getProducts() {\r\n  return window.contract.getProducts();\r\n}\r\n\r\nexport async function buyProduct({ id, price }) {\r\n  await window.contract.buyProduct({ productId: id }, GAS, price);\r\n}\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport AddProduct from \"./AddProduct\";\r\nimport Product from \"./Product\";\r\nimport Loader from \"../utils/Loader\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport {\r\n  getProducts as getProductList,\r\n  buyProduct,\r\n  createProduct,\r\n} from \"../../utils/marketplace\";\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setProducts(await getProductList());\r\n    } catch (error) {\r\n      console.log({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  });\r\n\r\n  const addProduct = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      createProduct(data).then((resp) => {\r\n        getProducts();\r\n      });\r\n    } catch (error) {\r\n      console.log({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const buy = async (id, price) => {\r\n    try {\r\n      await buyProduct({\r\n        id,\r\n        price,\r\n      }).then((resp) => getProducts());\r\n    } catch (error) {\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!loading ? (\r\n        <>\r\n          <div className='d-flex justify-content-between align-items-center mb-4'>\r\n            <h1 className='fs-4 fw-bold mb-0'>Street Food</h1>\r\n            <AddProduct save={addProduct} />\r\n          </div>\r\n          <Row xs={1} sm={2} lg={3} className='g-3  mb-5 g-xl-4 g-xxl-5'>\r\n            {products.map((_product) => (\r\n              <Product\r\n                product={{\r\n                  ..._product,\r\n                }}\r\n                buy={buy}\r\n              />\r\n            ))}\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst Cover = ({ name, login, coverImg }) => {\r\n  if ((name, login, coverImg)) {\r\n    return (\r\n      <div\r\n        className='d-flex justify-content-center flex-column text-center '\r\n        style={{ background: \"#000\", minHeight: \"100vh\" }}\r\n      >\r\n        <div className='mt-auto text-light mb-5'>\r\n          <div\r\n            className=' ratio ratio-1x1 mx-auto mb-2'\r\n            style={{ maxWidth: \"320px\" }}\r\n          >\r\n            <img src={coverImg} alt='' />\r\n          </div>\r\n          <h1>{name}</h1>\r\n          <p>Please connect your wallet to continue.</p>\r\n          <Button\r\n            onClick={login}\r\n            variant='outline-light'\r\n            className='rounded-pill px-3 mt-3'\r\n          >\r\n            Connect Wallet\r\n          </Button>\r\n        </div>\r\n        <p className='mt-auto text-secondary'>Powered by NEAR</p>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nCover.propTypes = {\r\n  name: PropTypes.string,\r\n};\r\n\r\nCover.defaultProps = {\r\n  name: \"\",\r\n};\r\n\r\nexport default Cover;\r\n","export default __webpack_public_path__ + \"static/media/sandwich.2d312449.jpg\";","import React, { useEffect, useCallback, useState } from \"react\";\nimport { Container, Nav } from \"react-bootstrap\";\nimport { login, logout as destroy, accountBalance } from \"./utils/near\";\nimport Wallet from \"./components/Wallet\";\nimport Products from \"./components/marketplace/Products\";\nimport Cover from \"./components/utils/Cover\";\nimport coverImg from \"./assets/img/sandwich.jpg\";\nimport \"./App.css\";\n\nconst App = function AppWrapper() {\n  const account = window.walletConnection.account();\n  const [balance, setBalance] = useState(\"0\");\n\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance());\n    }\n  });\n\n  useEffect(() => {\n    getBalance();\n  }, [getBalance]);\n  return (\n    <>\n      {account.accountId ? (\n        <Container fluid='md'>\n          <Nav className='justify-content-end pt-3 pb-5'>\n            <Nav.Item>\n              <Wallet\n                address={account.accountId}\n                amount={balance}\n                symbol='NEAR'\n                destroy={destroy}\n              />\n            </Nav.Item>\n          </Nav>\n          <main>\n            <Products />\n          </main>\n        </Container>\n      ) : (\n        <Cover name='Street Food' login={login} coverImg={coverImg} />\n      )}\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { initializeContract } from \"./utils/near\";\n\nimport \"bootstrap\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\nreportWebVitals();\n"],"sourceRoot":""}